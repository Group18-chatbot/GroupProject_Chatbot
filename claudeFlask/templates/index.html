<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
	<div class="logout">
		<a href="{{url_for('logout')}}">Logout</a>
	</div>
    <p>
        Claude
    </p>
    <form method="POST" action="">
        <div class="">
            {{ form.query }}
            {% for error in form.query.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="">
            {{ form.submit() }}
        </div>
        <p>
            {{userInput}}<br>
            {{response_text}}
			
			{%if (grades is defined) and grades %}
			    <div class="grades">
				<br>
				<table border="1">
					<th> <b>Module Code</b> </th>
					<th> <b>Module Name</b> </th>
					<th> <b>Grade</b> </th>
					{% for grade in grades %}
					   <tr>
							<td> {{ grade.ModuleCode }} </td>
							<td> {{ grade.ModuleName }} </td>
							<td> {{ grade.GradePercentage }} </td>
					   </tr>
					{% endfor %}
					</table>
				</div>
            {%endif%}
            
            {%if (timetableDict is defined) and timetableDict %}
                <div class="timetable">
                    <br>
                    <table border="1">
                        <th> <b>Day</b> </th>
                        <th> <b>Schedule</b> </th>
                        {% for key, value in timetableDict.items() %}
                            <tr>
                                <td> {{ key }} </td>
                                <td> {{ value }} </td>
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            {%endif%}
        </p>
    </form>
</body>
